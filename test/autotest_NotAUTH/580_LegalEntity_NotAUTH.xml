<test>
    <test-case id="580_1 Звонок от юр лица - невторизованный, мобильный - да, я юр лицо - на оператора">
        <context var="session">
            {
                "region": "dev-dcc-spb",
                "phoneNumber": "79000000001",
                "agreementId": "121212",
                "agreementNumber": "780046998264",
                "cellPhone": true,
                "autoTest": true 
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/token</query>
            <response status="200">{ "token": "1234", "type": "guest" }</response>
        </mockData>
            
        <q>/start</q>
        <a>Initialization. К сожалению, не нашла в базе ваш договор. Пожалуйста, уточните. Вы пользуетесь услугами нашей компании? </a>
        <q>да</q>
        <a>verno_spb. Ваш город санкт петербург?</a>
        <q>да</q>
        <a>requestStreetAndHouse. Назовите, пожалуйста, адрес, по которому вы обращаетесь, название улицы и номер дома.</a>
        <q>улица благодатная 1</q>
        <a>zapros_FIO. Назовите, пожалуйста Фамилию Имя и Отчество, на кого оформлен договор.</a>
        <q>Петров Иван Семенович</q>
        <a>GetFirstIntent_1. Чем я могу вам помочь?</a>
        <q>техническая поддержка юридический отдел</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>все верно</q>
        <a>GoEntity. В таком случае перевожу Вас в поддержку юридических лиц. Пожалуйста, оставайтесь на линии, и дождитесь ответа оператора.</a>
        <a state="/Transfer/Transfer"/>
    </test-case>
    
    <test-case id="580_2 Звонок от юр лица - невторизованный, мобильный - нет, я не юр лицо - номер договора">
        <context var="session">
            {
                "region": "dev-dcc-spb",
                "phoneNumber": "79000000001",
                "agreementId": "121212",
                "agreementNumber": "780046998264",
                "cellPhone": true,
                "autoTest": true    
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/token</query>
            <response status="200">{ "token": "1234", "type": "guest" }</response>
        </mockData>
            
        <q>/start</q>
        <a>Initialization. К сожалению, не нашла в базе ваш договор. Пожалуйста, уточните. Вы пользуетесь услугами нашей компании? </a>
        <q>да</q>
        <a>verno_spb. Ваш город санкт петербург?</a>
        <q>да</q>
        <a>requestStreetAndHouse. Назовите, пожалуйста, адрес, по которому вы обращаетесь, название улицы и номер дома.</a>
        <q>улица благодатная 1</q>
        <a>zapros_FIO. Назовите, пожалуйста Фамилию Имя и Отчество, на кого оформлен договор.</a>
        <q>Петров Иван Семенович</q>
        <a>GetFirstIntent_1. Чем я могу вам помочь?</a>
        <q>техническая поддержка юридический отдел</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>нет</q>
        <a>ForgiveMe. Простите, видимо не так Вас поняла. Пожалуйста, попробуйте переформулировать свой вопрос и задайте его снова</a>
        <q>опять все повторять</q>
        <a>ForgiveMe. Простите, видимо не так Вас поняла. Пожалуйста, попробуйте переформулировать свой вопрос и задайте его снова</a>
        <q>прекрати</q>
        <a state="/Transfer/Transfer"/>
    </test-case>
    
    <test-case id="580_4 Звонок от юр лица - невторизованный, домашний - да, я юр лицо - на оператора">
        
        <context var="session">
            {
                "region": "dev-dcc-spb",
                "phoneNumber": "79000000001",
                "agreementId": "121212",
                "agreementNumber": "780046998264",                
                "cellPhone": false,
                "autoTest": true
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/token</query>
            <response status="200">{ "token": "1234", "type": "user" }</response>
        </mockData>

        <q>/start</q>
        <a>Initialization. К сожалению, не нашла в базе ваш договор. Пожалуйста, уточните. Вы пользуетесь услугами нашей компании? </a>
        <q>да</q>
        <a>verno_spb. Ваш город санкт петербург?</a>
        <q>да</q>
        <a>requestStreetAndHouse. Назовите, пожалуйста, адрес, по которому вы обращаетесь, название улицы и номер дома.</a>
        <q>улица благодатная 1</q>
        <a>zapros_FIO. Назовите, пожалуйста Фамилию Имя и Отчество, на кого оформлен договор.</a>
        <q>Петров Иван Семенович</q>
        <a>GetFirstIntent_1. Чем я могу вам помочь?</a>
        <q>я юридическое лицо</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>да</q>
        <a>В таком случае перевожу вас в поддержку юридических лиц. Пожалуйста, оставайтесь на линии, и дождитесь ответа оператора.</a>
        <a state="/Transfer/Transfer">Перевод по коллеру b2bivr</a>
        <a state="/Transfer/Transfer"/>
    </test-case>  
    
    
    
    <test-case id="580_LE Строка 3 НЕавторизованный, мобильный, обозначаем себя юриком. НЕ подтверждаем. Запрос нового интента. Номер договора">
        
        <context var="session">
            {
                "region": "dev-dcc-spb",
                "phoneNumber": "79000000001",
                "agreementId": "121212",
                "agreementNumber": "780046998264",                
                "cellPhone": "true",
                "autoTest": "true"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/token</query>
            <response status="200">{ "token": "1234", "type": "user" }</response>
        </mockData>

        <mockData>
            <query method="POST">https://action.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/billing/sms/balance</query>
            <response status="200">{ "errorCode": 0 }</response>
        </mockData>
        
        <q>/start</q>
        <a>Initialization. К сожалению, не нашла в базе ваш договор. Пожалуйста, уточните. Вы пользуетесь услугами нашей компании? </a>
        <q>да</q>
        <a>verno_spb. Ваш город санкт петербург?</a>
        <q>да</q>
        <a>requestStreetAndHouse. Назовите, пожалуйста, адрес, по которому вы обращаетесь, название улицы и номер дома.</a>
        <q>улица благодатная 1</q>
        <a>zapros_FIO. Назовите, пожалуйста Фамилию Имя и Отчество, на кого оформлен договор.</a>
        <q>Петров Иван Семенович</q>
        <a>GetFirstIntent_1. Чем я могу вам помочь?</a>
        <q>я юридическое лицо</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>нет</q>
        <a>ForgiveMe. Простите, видимо не так Вас поняла. Пожалуйста, попробуйте переформулировать свой вопрос и задайте его снова</a>
        <q>какой у меня номер договора?</q>
        <a>agreementNumber. Номер вашего договора</a>
        <a>ru_digit_700_nom. семьсот</a>
        <a>ru_digit_80_nom. восемьдесят</a>
        <a>ru_digit_0_nom. ноль</a>
        <a>ru_digit_40_nom. сорок</a>
        <a>ru_digit_6_nom. шесть</a>
        <a>ru_digit_900_nom. девятьсот</a>
        <a>ru_digit_90_nom. девяносто</a>
        <a>ru_digit_8_nom. восемь</a>
        <a>ru_digit_200_nom. двести</a>
        <a>ru_digit_60_nom. шестьдесят</a>
        <a>ru_digit_4_nom. четыре</a>
        <a>SMSBalance. Хотите ли получить смс с номером договора и текущим балансом?</a>
        <q>да</q>
        <a>SMSGo. Я отправила Вам смс. обычно доставка занимает не более пары минут</a>
        <a state="/WhatElse/WhatElse">WhatElseIntent_1. У Вас остались еще какие-нибудь вопросы? Пожалуйста, скажите ДА или НЕТ</a>
        <q>нет</q>
        <a state="/WhatElse/ToExit">toExit. Благодарим вас за уделенное время. Оставайтесь, пожалуйста, на линии и оцените качество моей работы. Напоминаем, что вы можете получить консультацию онлайн с помощью мобильного приложения «мой домру», онлайн-чата на сайте домру.ru, а также в социальных сетях. Всего вам доброго!</a>
        <a state="/Transfer/Transfer"/>
        <a state="/Transfer/Transfer"/>
    </test-case> 
    

    
    <test-case id="580_LE Строка 4 НЕавторизованный, домашний, обозначаем себя юриком. Запрос нового интента. Номер договора">
        
        <context var="session">
            {
                "region": "dev-dcc-spb",
                "phoneNumber": "79000000001",
                "agreementId": "121212",
                "agreementNumber": "780046998264",                
                "cellPhone": false,
                "autoTest": true
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/token</query>
            <response status="200">{ "token": "1234", "type": "user" }</response>
        </mockData>

        <q>/start</q>
        <a>Initialization. К сожалению, не нашла в базе ваш договор. Пожалуйста, уточните. Вы пользуетесь услугами нашей компании? </a>
        <q>да</q>
        <a>verno_spb. Ваш город санкт петербург?</a>
        <q>да</q>
        <a>requestStreetAndHouse. Назовите, пожалуйста, адрес, по которому вы обращаетесь, название улицы и номер дома.</a>
        <q>улица благодатная 1</q>
        <a>zapros_FIO. Назовите, пожалуйста Фамилию Имя и Отчество, на кого оформлен договор.</a>
        <q>Петров Иван Семенович</q>
        <a>GetFirstIntent_1. Чем я могу вам помочь?</a>
        <q>я юридическое лицо</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>нет</q>
        <a>ForgiveMe. Простите, видимо не так Вас поняла. Пожалуйста, попробуйте переформулировать свой вопрос и задайте его снова</a>
        <q>какой у меня номер договора?</q>
        <a>agreementNumber. Номер вашего договора</a>
        <a>ru_digit_700_nom. семьсот</a>
        <a>ru_digit_80_nom. восемьдесят</a>
        <a>ru_digit_0_nom. ноль</a>
        <a>ru_digit_40_nom. сорок</a>
        <a>ru_digit_6_nom. шесть</a>
        <a>ru_digit_900_nom. девятьсот</a>
        <a>ru_digit_90_nom. девяносто</a>
        <a>ru_digit_8_nom. восемь</a>
        <a>ru_digit_200_nom. двести</a>
        <a>ru_digit_60_nom. шестьдесят</a>
        <a>ru_digit_4_nom. четыре</a>
        <a state="/WhatElse/WhatElse">WhatElseIntent_1. У Вас остались еще какие-нибудь вопросы? Пожалуйста, скажите ДА или НЕТ</a>
        <q>нет</q>
        <a state="/WhatElse/ToExit">toExit. Благодарим вас за уделенное время. Оставайтесь, пожалуйста, на линии и оцените качество моей работы. Напоминаем, что вы можете получить консультацию онлайн с помощью мобильного приложения «мой домру», онлайн-чата на сайте домру.ru, а также в социальных сетях. Всего вам доброго!</a>
        <a state="/Transfer/Transfer"/>
        <a state="/Transfer/Transfer"/>
    </test-case> 
    
    
    
    <test-case id="580_LE Строка 5 НЕавторизованный, домашний, обозначаем себя юриком. НЕ подтверждаем. Просим оператора.">
        
        <context var="session">
            {
                "region": "dev-dcc-spb",
                "phoneNumber": "79000000001",
                "agreementId": "121212",
                "agreementNumber": "780046998264",                
                "cellPhone": false,
                "autoTest": true
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/token</query>
            <response status="200">{ "token": "1234", "type": "user" }</response>
        </mockData>

        <q>/start</q>
        <a>Initialization. К сожалению, не нашла в базе ваш договор. Пожалуйста, уточните. Вы пользуетесь услугами нашей компании? </a>
        <q>да</q>
        <a>verno_spb. Ваш город санкт петербург?</a>
        <q>да</q>
        <a>requestStreetAndHouse. Назовите, пожалуйста, адрес, по которому вы обращаетесь, название улицы и номер дома.</a>
        <q>улица благодатная 1</q>
        <a>zapros_FIO. Назовите, пожалуйста Фамилию Имя и Отчество, на кого оформлен договор.</a>
        <q>Петров Иван Семенович</q>
        <a>GetFirstIntent_1. Чем я могу вам помочь?</a>
        <q>я юридическое лицо</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>нет</q>
        <a>ForgiveMe. Простите, видимо не так Вас поняла. Пожалуйста, попробуйте переформулировать свой вопрос и задайте его снова</a>
        <q>дайте оператора</q>
        <a>toAgentRequest. Хорошо, .перевожу вас на специалиста..Спасибо за обращение! В целях повышения качества обслуживания, все разговоры записываются.</a>
        <a state="/Transfer/Transfer">Перевод по коллеру legal_entity</a>
        <a state="/Transfer/Transfer"/>
    </test-case>    
        

    
    <test-case id="580_LE Строка 6 НЕавторизованный, домашний, обозначаем себя юриком. Запрос нового интента. Номер договора. Переход в тот же интент потом по кругу">
        
        <context var="session">
            {
                "region": "dev-dcc-spb",
                "phoneNumber": "79000000001",
                "agreementId": "121212",
                "agreementNumber": "780046998264",                
                "cellPhone": false,
                "autoTest": true
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/token</query>
            <response status="200">{ "token": "1234", "type": "user" }</response>
        </mockData>

        <q>/start</q>
        <a>Initialization. К сожалению, не нашла в базе ваш договор. Пожалуйста, уточните. Вы пользуетесь услугами нашей компании? </a>
        <q>да</q>
        <a>verno_spb. Ваш город санкт петербург?</a>
        <q>да</q>
        <a>requestStreetAndHouse. Назовите, пожалуйста, адрес, по которому вы обращаетесь, название улицы и номер дома.</a>
        <q>улица благодатная 1</q>
        <a>zapros_FIO. Назовите, пожалуйста Фамилию Имя и Отчество, на кого оформлен договор.</a>
        <q>Петров Иван Семенович</q>
        <a>GetFirstIntent_1. Чем я могу вам помочь?</a>
        <q>я юридическое лицо</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>нет</q>
        <a>ForgiveMe. Простите, видимо не так Вас поняла. Пожалуйста, попробуйте переформулировать свой вопрос и задайте его снова</a>
        <q>какой у меня номер договора?</q>
        <a>agreementNumber. Номер вашего договора</a>
        <a>ru_digit_700_nom. семьсот</a>
        <a>ru_digit_80_nom. восемьдесят</a>
        <a>ru_digit_0_nom. ноль</a>
        <a>ru_digit_40_nom. сорок</a>
        <a>ru_digit_6_nom. шесть</a>
        <a>ru_digit_900_nom. девятьсот</a>
        <a>ru_digit_90_nom. девяносто</a>
        <a>ru_digit_8_nom. восемь</a>
        <a>ru_digit_200_nom. двести</a>
        <a>ru_digit_60_nom. шестьдесят</a>
        <a>ru_digit_4_nom. четыре</a>
        <a state="/WhatElse/WhatElse">WhatElseIntent_1. У Вас остались еще какие-нибудь вопросы? Пожалуйста, скажите ДА или НЕТ</a>
        <q>я юридическое лицо</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>нет</q>
        <a>ForgiveMe. Простите, видимо не так Вас поняла. Пожалуйста, попробуйте переформулировать свой вопрос и задайте его снова</a>
        <q>какой у меня номер договора?</q>
        <a>agreementNumber. Номер вашего договора</a>
        <a>ru_digit_700_nom. семьсот</a>
        <a>ru_digit_80_nom. восемьдесят</a>
        <a>ru_digit_0_nom. ноль</a>
        <a>ru_digit_40_nom. сорок</a>
        <a>ru_digit_6_nom. шесть</a>
        <a>ru_digit_900_nom. девятьсот</a>
        <a>ru_digit_90_nom. девяносто</a>
        <a>ru_digit_8_nom. восемь</a>
        <a>ru_digit_200_nom. двести</a>
        <a>ru_digit_60_nom. шестьдесят</a>
        <a>ru_digit_4_nom. четыре</a>
        <a state="/WhatElse/WhatElse">WhatElseIntent_1. У Вас остались еще какие-нибудь вопросы? Пожалуйста, скажите ДА или НЕТ</a>
        <q>нет</q>
        <a state="/WhatElse/ToExit">toExit. Благодарим вас за уделенное время. Оставайтесь, пожалуйста, на линии и оцените качество моей работы. Напоминаем, что вы можете получить консультацию онлайн с помощью мобильного приложения «мой домру», онлайн-чата на сайте домру.ru, а также в социальных сетях. Всего вам доброго!</a>
        <a state="/Transfer/Transfer"/>
        <a state="/Transfer/Transfer"/>
    </test-case> 
    
    
    
    <test-case id="580_LE Строка 7 НЕавторизованный, не авторизовали по адресу, мобильный, обозначаем себя юриком. Подтверждаем. В КЦ b2b.">
        
        <context var="session">
            {
                "region": "dev-dcc-spb",
                "phoneNumber": "79000000001",
                "agreementId": "121212",
                "agreementNumber": "780046998264",                
                "cellPhone": "true",
                "autoTest": "true"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/token</query>
            <response status="200">{ "token": "1234", "type": "user" }</response>
        </mockData>

        <q>/start</q>
        <a>Initialization. К сожалению, не нашла в базе ваш договор. Пожалуйста, уточните. Вы пользуетесь услугами нашей компании? </a>
        <q>да</q>
        <a>verno_spb. Ваш город санкт петербург?</a>
        <q>да</q>
        <a>requestStreetAndHouse. Назовите, пожалуйста, адрес, по которому вы обращаетесь, название улицы и номер дома.</a>
        <q>улица Петра Великого. 999</q>
        <a>GetFirstIntent_1. Чем я могу вам помочь?</a>
        <q>я юридическое лицо</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>да</q>
        <a>В таком случае перевожу вас в поддержку юридических лиц. Пожалуйста, оставайтесь на линии, и дождитесь ответа оператора.</a>
        <a state="/Transfer/Transfer">Перевод по коллеру b2bivr</a>
        <a state="/Transfer/Transfer"/>
    </test-case>      
    
    
    
    <test-case id="580_LE Строка 7.1 НЕавторизованный, не авторизовали по ФИО, мобильный, обозначаем себя юриком. Подтверждаем. В КЦ b2b.">
        
        <context var="session">
            {
                "region": "dev-dcc-spb",
                "phoneNumber": "79000000001",
                "agreementId": "121212",
                "agreementNumber": "780046998264",                
                "cellPhone": "true",
                "autoTest": "true"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/ivr/token</query>
            <response status="200">{ "token": "1234", "type": "user" }</response>
        </mockData>

        <q>/start</q>
        <a>Initialization. К сожалению, не нашла в базе ваш договор. Пожалуйста, уточните. Вы пользуетесь услугами нашей компании? </a>
        <q>да</q>
        <a>verno_spb. Ваш город санкт петербург?</a>
        <q>да</q>
        <a>requestStreetAndHouse. Назовите, пожалуйста, адрес, по которому вы обращаетесь, название улицы и номер дома.</a>
        <q>улица благодатная 1</q>
        <a>zapros_FIO. Назовите, пожалуйста Фамилию Имя и Отчество, на кого оформлен договор.</a>
        <q>Достоевский Федор Михайлович</q>
        <a>GetFirstIntent_1. Чем я могу вам помочь?</a>
        <q>я юридическое лицо</q>
        <a>UEntity. Если я правильно поняла Ваш вопрос, то Вы обращаетесь как юридическое лицо или индивидуальный предприниматель. Пожалуйста, скажите ДА или НЕТ.</a>
        <q>да</q>
        <a>В таком случае перевожу вас в поддержку юридических лиц. Пожалуйста, оставайтесь на линии, и дождитесь ответа оператора.</a>
        <a state="/Transfer/Transfer">Перевод по коллеру b2bivr</a>
        <a state="/Transfer/Transfer"/>
    </test-case>      
    
    
    
    
    
</test>
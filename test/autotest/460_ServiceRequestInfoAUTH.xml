<test>
    
    <test-case id="460 - операции по СЗ - Кейс 1 - отменить заявку - авторизован - заявка без указания времени - консультируем - вопросов нет">
        
        <context var="session">
            {
                "autoTest": true,
                "int": true,
                "domrutv": true,
                "cifral": true,
                "serviceRequestStatus": "request-undefined",
                "genesysData": "{\"agreementId\":\"2035701\",\"agreementNumber\":\"161009575815\",\"clientId\":\"Mobile_chat_1257196_231_b2c\",\"alias\":\"chelny\",\"region\":\"chelny\",\"cityId\":\"231\",\"newVer\":\"1\",\"os\":\"Android\",\"ver\":\"3.56.1\",\"bld\":\"3056010\"}"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/chatbot/token</query>
            <response status="200">
                {
                    "token": "1234",
                    "type": "user"
                }
            </response>
        </mockData>
        
        <q>/start</q>
        <a state="/Start">Привет! Я Робот-помощник Дом.ру.</a>
        <q>отменить заявку</q>
        <a state="/ServiceRequestInfo/CheckServiceRequest/NoPlanDateServiceRequest"/>
        <a state="/Еще вопросы?"/>
        <q>Нет</q>
        <a state="/Прощание"/>
    </test-case>

    <test-case id="460 - операции по СЗ - Кейс 2 - отменить заявку - авторизован - в заявке нет времени - консультируем - вопросы есть - способы оплаты">
        
        <context var="session">
            {
                "autoTest": true,
                "int": true,
                "domrutv": true,
                "cifral": true,
                "serviceRequestStatus": "request-undefined",
                "genesysData": "{\"agreementId\":\"2035701\",\"agreementNumber\":\"161009575815\",\"clientId\":\"Mobile_chat_1257196_231_b2c\",\"alias\":\"chelny\",\"region\":\"chelny\",\"cityId\":\"231\",\"newVer\":\"1\",\"os\":\"Android\",\"ver\":\"3.56.1\",\"bld\":\"3056010\"}"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/chatbot/token</query>
            <response status="200">
                {
                    "token": "1234",
                    "type": "user"
                }
            </response>
        </mockData>
        
        <q>/start</q>
        <a state="/Start">Привет! Я Робот-помощник Дом.ру.</a>
        <q>отменить заявку</q>
        <a state="/ServiceRequestInfo/CheckServiceRequest/NoPlanDateServiceRequest"/>
        <a state="/Еще вопросы?"/>
        <q>Да</q>
        <a state="/Какие вопросы?"/>
        <q>Способы оплаты</q>
        <a state="/PaymentsMetods/Способы оплаты"/>
        <a state="/Еще вопросы?"/>
        <q>Нет</q>
        <a state="/Прощание"/>
    </test-case>
    
    <test-case id="460 - операции по СЗ - Кейс 3 - отменить заявку - авторизован - в заявке есть время - консультируем - способы оплаты">
        
        <context var="session">
            {
                "autoTest": true,
                "int": true,
                "domrutv": true,
                "cifral": true,
                <!--"serviceRequestStatus": "request-pending",-->
                "genesysData": "{\"agreementId\":\"2035701\",\"agreementNumber\":\"161009575815\",\"clientId\":\"Mobile_chat_1257196_231_b2c\",\"alias\":\"chelny\",\"region\":\"chelny\",\"cityId\":\"231\",\"newVer\":\"1\",\"os\":\"Android\",\"ver\":\"3.56.1\",\"bld\":\"3056010\"}"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/chatbot/token</query>
            <response status="200">
                {
                    "token": "1234",
                    "type": "user"
                }
            </response>
        </mockData>
        
        <mockData>
            <query method="POST">https://action.stage.dcc.movixlab.yc.r-one.io/dcc/chatbot/billing/check/services/access</query>
            <response status="200">
                {
                    "serviceRequestStatus": "request-pending",
                    "servicePlanDate": "2023-09-22T09:30:56.862Z"
                }
            </response>
        </mockData>
        
        <q>/start</q>
        <a state="/Start">Привет! Я Робот-помощник Дом.ру.</a>
        <q>отменить заявку</q>
        <a state="/ServiceRequestInfo/CheckServiceRequest/PendingServiceRequest"/>
        <a state="/Еще вопросы?"/>
        <q>Способы оплаты</q>
        <a state="/PaymentsMetods/Способы оплаты"/>
        <a state="/Еще вопросы?"/>
        <q>Нет</q>
        <a state="/Прощание"/>
    </test-case>

    <test-case id="460 - операции по СЗ - Кейс 4 - отменить заявку - авторизован - в заявке нет времени - консультируем - вопросов нет">
        
        <context var="session">
            {
                "autoTest": true,
                "int": true,
                "domrutv": true,
                "cifral": true,
                "serviceRequestStatus": "request-undefined",
                "genesysData": "{\"agreementId\":\"2035701\",\"agreementNumber\":\"161009575815\",\"clientId\":\"Mobile_chat_1257196_231_b2c\",\"alias\":\"chelny\",\"region\":\"chelny\",\"cityId\":\"231\",\"newVer\":\"1\",\"os\":\"Android\",\"ver\":\"3.56.1\",\"bld\":\"3056010\"}"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/chatbot/token</query>
            <response status="200">
                {
                    "token": "1234",
                    "type": "user"
                }
            </response>
        </mockData>
        
        <q>/start</q>
        <a state="/Start">Привет! Я Робот-помощник Дом.ру.</a>
        <q>отменить заявку</q>
        <a state="/ServiceRequestInfo/CheckServiceRequest/NoPlanDateServiceRequest"/>
        <a state="/Еще вопросы?"/>
        <q>Нет</q>
        <a state="/Прощание"/>
    </test-case>

    <test-case id="460 - операции по СЗ - Кейс 5 - отменить заявку - авторизован - в заявке нет времени - консультируем - вопросы есть - способы оплаты">
        
        <context var="session">
            {
                "autoTest": true,
                "int": true,
                "domrutv": true,
                "cifral": true,
                "serviceRequestStatus": "request-undefined",
                "genesysData": "{\"agreementId\":\"2035701\",\"agreementNumber\":\"161009575815\",\"clientId\":\"Mobile_chat_1257196_231_b2c\",\"alias\":\"chelny\",\"region\":\"chelny\",\"cityId\":\"231\",\"newVer\":\"1\",\"os\":\"Android\",\"ver\":\"3.56.1\",\"bld\":\"3056010\"}"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/chatbot/token</query>
            <response status="200">
                {
                    "token": "1234",
                    "type": "user"
                }
            </response>
        </mockData>
        
        <q>/start</q>
        <a state="/Start">Привет! Я Робот-помощник Дом.ру.</a>
        <q>отменить заявку</q>
        <a state="/ServiceRequestInfo/CheckServiceRequest/NoPlanDateServiceRequest"/>
        <a state="/Еще вопросы?"/>
        <q>Да</q>
        <a state="/Какие вопросы?"/>
        <q>Способы оплаты</q>
        <a state="/PaymentsMetods/Способы оплаты"/>
        <a state="/Еще вопросы?"/>
        <q>Нет</q>
        <a state="/Прощание"/>
    </test-case>
    
    <test-case id="460 - операции по СЗ - Кейс 6 - отменить заявку - авторизован - в заявке нет времени - консультируем - способы оплаты">
        
        <context var="session">
            {
                "autoTest": true,
                "int": true,
                "domrutv": true,
                "cifral": true,
                "serviceRequestStatus": "request-undefined",
                "genesysData": "{\"agreementId\":\"2035701\",\"agreementNumber\":\"161009575815\",\"clientId\":\"Mobile_chat_1257196_231_b2c\",\"alias\":\"chelny\",\"region\":\"chelny\",\"cityId\":\"231\",\"newVer\":\"1\",\"os\":\"Android\",\"ver\":\"3.56.1\",\"bld\":\"3056010\"}"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/chatbot/token</query>
            <response status="200">
                {
                    "token": "1234",
                    "type": "user"
                }
            </response>
        </mockData>
        
        <q>/start</q>
        <a state="/Start">Привет! Я Робот-помощник Дом.ру.</a>
        <q>отменить заявку</q>
        <a state="/ServiceRequestInfo/CheckServiceRequest/NoPlanDateServiceRequest"/>
        <a state="/Еще вопросы?"/>
        <q>Способы оплаты</q>
        <a state="/PaymentsMetods/Способы оплаты"/>
        <a state="/Еще вопросы?"/>
        <q>Нет</q>
        <a state="/Прощание"/>
    </test-case>    
    
    <test-case id="460 - операции по СЗ - Кейс 7 - отменить заявку - авторизован - заявки нет - перевод на оператора">
        
        <context var="session">
            {
                "autoTest": true,
                "int": true,
                "domrutv": true,
                "cifral": true,
                "genesysData": "{\"agreementId\":\"2035701\",\"agreementNumber\":\"161009575815\",\"clientId\":\"Mobile_chat_1257196_231_b2c\",\"alias\":\"chelny\",\"region\":\"chelny\",\"cityId\":\"231\",\"newVer\":\"1\",\"os\":\"Android\",\"ver\":\"3.56.1\",\"bld\":\"3056010\"}"
            }
        </context>
        
        <mockData>
            <query method="POST">https://auth.stage.dcc.movixlab.yc.r-one.io/dcc/chatbot/token</query>
            <response status="200">
                {
                    "token": "1234",
                    "type": "user"
                }
            </response>
        </mockData>
        
        <q>/start</q>
        <a state="/Start">Привет! Я Робот-помощник Дом.ру.</a>
        <q>отменить заявку</q>
        <a state="/Transfer/Transfer"/>
    </test-case> 
    
</test>
